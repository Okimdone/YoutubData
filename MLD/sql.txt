create table Query(
query_id numeric(10) primary key,
mots varchar(200));

create table Query_plage(
Query_plage_id numeric(10) primary key, 
query_id numeric(10) ,
date_from date , 
date_to date);

alter table Query_plage add constraint fk_query_id foreign key (query_id) references Query(query_id); 

create table Channel( 
channels_id varchar(11) primary key ,
title varchar(100),
description varchar(5000),
customUrl ,
publishedAt date,
defaultLanguage varchar(10),
country varchar(29),
viewCount numeric(12),
commentCount numeric(12),
subscriberCount numeric(12),
videoCount numeric(12)
);

create table Video( 
video_id numeric(11),
publishedAt date,
title varchar(100),
description varchar(5000), 
defaultLanguage varchar(20),
defaultAudioLanguage varchar(20),
viewCount numeric(12),
likeCount  numeric(12), 
dislikeCount  numeric(12),
commentCount  numeric(12),
durationMs  numeric(12),
creationTime  varchar(25), 
channels_id varchar(11)
);

alter table Video add constraint fk_channels_id foreign key channels_id references channels(channels_id);

create table Trouver(
video_id numeric(10),
Query_plage_id numeric(10));

alter table Trouver add constraint fk_video_id foreign key video_id references videod(video_id);
alter table Trouver add constraint fk_Query_plage_id foreign key Query_plage references Query_plage(Query_plage_id);

create table Comments( 
comments_id varchar(12) primary key, 
textOriginal varchar(5000),
likeCount numeric(12),
publishedAt date ,
updatedAt date, 
channels_id numeric(11));

alter table Comments add constraint fk_channels_id_Comments foreign key channels_id references channels(channels_id);

create table Comments_video(
comments_id varchar(12),
video_id varchar(12),
totalReplyCount numeric(12));

alter table Comments add constraint fk_comments_id  foreign key comments_id references comments(comments_id);
alter table Comments add constraint fk_video_id_comments  foreign key video_id references video(video_id);

create table Comments_reponse(
comments_id  varchar(12), 
comments_id_Parent varchar(12) );  

alter table Comments_reponse add constraint fk_comment_rep  foreign key comments_id references comments(comments_id);
alter table Comments_reponse add constraint fk_id_Parent foreign key comments_id_Parent references comments(comments_id);
